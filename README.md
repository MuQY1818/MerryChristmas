# 🎄 Merry Christmas

一个基于手势识别的互动圣诞网页，包含 3D 照片圣诞树、音乐播放器、歌词同步和雪花特效。

## 功能特性

### 🎮 互动体验
- **手势控制**：伸出手指并张开手掌，控制圣诞树的生长
- **倒计时门**：圣诞节（12月25日）前显示倒计时，节日当天自动解锁
- **照片圣诞树**：18 张照片组成的 3D 旋转圣诞树
- **点击互动**：点击照片可查看大图

### 🎵 音乐播放器
- 自定义唱片机样式播放器
- 进度条拖拽跳转
- 音乐可视化频谱
- 歌词同步显示（支持手势互动）

### ✨ 视觉特效
- 实时雪花飘落系统
- 3D 粒子爆炸效果
- 极光背景动画
- 电影级暗角与噪点

## 技术栈

- **HTML5** + **CSS3** + **JavaScript**
- **MediaPipe Hands**：手势识别
- **Canvas 2D**：粒子系统与动画
- **Web Audio API**：音频控制

## 快速开始

### 本地运行

```bash
# 使用任意静态服务器，例如：
npx serve .
# 或者
python3 -m http.server 8080
```

然后在浏览器打开 `http://localhost:8080`

### 在线部署

项目已配置好 CDN 资源，可直接部署到：
- GitHub Pages
- Vercel
- Netlify

## 项目结构

```
MerryChristmas/
├── index.html          # 主页面
├── style.css           # 样式文件
├── script.js           # 核心逻辑
├── lyrics_tool.html    # 歌词时间戳标记工具
└── assets/             # 静态资源
    ├── photos/         # 照片（18张）
    └── music/          # 音乐文件
```

## 使用说明

1. **允许摄像头权限**：手势识别需要访问摄像头
2. **伸出手掌**：手掌完全张开后保持 2 秒触发魔法
3. **欣赏圣诞树**：照片组成的 3D 圣诞树会缓缓呈现
4. **播放音乐**：点击播放按钮欣赏原创音乐
5. **许下愿望**：弹窗互动，选择你的答案

### 🎵 歌词时间戳标记工具

项目附带了一个 **Lyrics Tapping Tool**（[lyrics_tool.html](lyrics_tool.html)），用于为音乐生成精确的歌词时间戳。

#### 使用方法

1. 用浏览器打开 `lyrics_tool.html`
2. 点击 **"Start / Play Audio"** 开始播放音乐
3. 当听到当前显示歌词的**开头**时，立即按下 **空格键**
4. 工具会自动记录时间戳并跳到下一行
5. 完成后点击 **"Copy JSON"** 复制生成的 JSON 数据
6. 将数据粘贴到 [script.js](script.js#L942) 的 `LyricsManager` 类中

#### 工具界面

```
┌─────────────────────────────────────┐
│     🎹 Lyrics Tapping Tool          │
├─────────────────────────────────────┤
│  🎵 [音频播放器]  [Reset] [Copy]    │
│                                     │
│  当前歌词：大尺寸显示区域            │
│  下一行：小字预览                    │
│                                     │
│  ┌─────────────────────────────┐    │
│  │ JSON 输出区域               │    │
│  │ [                          │    │
│  │   { "time": 23.67,         │    │
│  │     "text": "Lyrics..." }, │    │
│  │   ...                      │    │
│  │ ]                          │    │
│  └─────────────────────────────┘    │
└─────────────────────────────────────┘
```

## 自定义修改

### 更换照片
将 [assets/photos/](assets/photos/) 目录下的 `1.jpg` ~ `18.jpg` 替换为你的照片。

### 更换音乐
修改 [index.html](index.html#L41) 中的音频地址：
```html
<audio id="bgm" src="你的音乐文件地址" loop></audio>
```

### 修改歌词
编辑 [script.js](script.js#L942) 中的 `LyricsManager` 类：
```javascript
this.setLyrics([
    { "time": 秒数, "text": "歌词内容" },
    // ...
]);
```

## 浏览器兼容性

- Chrome 80+
- Edge 80+
- Safari 14+（需要手动允许摄像头权限）
- Firefox（可能需要配置摄像头权限）

## 许可证

MIT License - 送给特别的你 🎁

---

Merry Christmas! 🎅🎁⭐
